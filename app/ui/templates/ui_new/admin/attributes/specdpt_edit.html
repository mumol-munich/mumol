{% load crispy_forms_tags %}

<form method="post" class="text-center" action="{% url 'admin_attributes_specdpt_add_remove' genespec.pk %}">
    
    {% csrf_token %}
    <!-- Central Modal Small -->
    <div class="modal fade" id="edit_specdpt" tabindex="-1" role="dialog" aria-labelledby="edit_specdpt_label" aria-hidden="true">

        <!-- Change class .modal-sm to change the size of the modal -->
        <div class="modal-dialog" role="document">


            <div class="modal-content">
                <div class="modal-header text-left">
                    <h4 class="modal-title w-100" id="edit_specdpt_label">Edit Specification Datapoint</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="align-items-center justify-content-center mb-4">

                        <div class="text-left font-weight-bolder">
                            <div class="form-group">
                                <label for="name_datapointtype2">Datapoint Type*</label>
                                <input type="text" name="name_datapointtype2" id="name_datapointtype2" class="form-control" value="" disabled>
                            </div>
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="True" id="id_mandatory2" name="id_mandatory2">
                                    <label class="form-check-label" for="id_mandatory">
                                      Mandatory
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="id_default2">Default</label>
                                <input type="text" class="form-control" id="id_default2" name="id_default2" value="">
                                <span id="id_default_text2"></span>
                            </div>
                        </div>

                        

                        <div>
                            <input type="hidden" name="id_specdpt2" id="id_specdpt2" value="">
                            <input type="hidden" name="access_type" value="edit">
                            <input type="hidden" class="return_page" name="return_page" value="">
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn custom-button-color2 btn-sm" data-dismiss="modal">Close</button>
                        <button type="submit" id="specdpt_custom_submit_btn12" class="btn custom-button-color1 btn-sm">Submit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<!-- Central Modal Small -->

<script type="text/javascript">
    $('#edit_specdpt').on('shown.bs.modal', function() {
      $('#id_datapointtype2').focus();
    })

    $("#id_datapointtype2").on("change", function(){
        var htmlstr = "";
        var optiontext = $(this).find("option:selected").attr("data-options");
        var helptext = $(this).find("option:selected").attr("data-helptext");
        if(optiontext) {
            htmlstr += '<small>options: ' + optiontext + '</small><br>';
        }
        if(helptext) {
            htmlstr += '<small>helptext: ' + helptext + '</small>';
        }
        $("#id_default_text2").html(htmlstr);
    });

</script>